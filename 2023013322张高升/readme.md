本作业通过 Python 语言模拟实现了操作系统中的银行家算法。

### 文件说明

  * `banker.py`: 封装了银行家算法、安全检测以及矩阵打印相关的函数。
      * `safety_check(**kwargs)`: 用于检查系统是否处于安全状态。
      * `banker_algorithm(**kwargs)`: 实现了银行家算法的核心逻辑，处理进程的资源请求。
      * `print_matrix(**kwargs)`: 辅助函数，用于美观地打印各种矩阵（如最大需求矩阵、分配矩阵等）。
  * `main.py`: 项目的主入口文件，定义了初始系统状态，并调用 `banker.py` 中的函数进行安全检测和资源请求处理。

### 如何运行

1.  确保您的环境中安装了 Python。
2.  将 `banker.py` 和 `main.py` 放在同一个目录下。
3.  打开终端或命令行工具，导航到该目录。
4.  运行 `main.py` 文件:
    ```bash
    python main.py
    ```

### 功能说明

本项目实现了以下功能：

1.  **初始系统状态显示**: 程序启动时，会打印出当前的可用资源向量、最大需求矩阵、分配矩阵和需求矩阵。
2.  **安全状态检测**: 在处理资源请求之前，会首先对当前系统进行安全检测，判断系统是否处于安全状态，并给出安全序列（如果存在）。
3.  **银行家算法模拟**: 模拟了进程 P1 请求资源 `[1, 0, 2]` 的场景。
4.  **资源请求处理与结果展示**:
      * 如果请求资源量超过进程的最大需求或可用资源，请求将被拒绝。
      * 如果请求资源后系统仍能保持安全状态，则允许分配，并更新相关矩阵和安全序列。
      * 如果请求资源后导致系统进入不安全状态，则拒绝分配，并回滚到之前的系统状态。
5.  **详细输出**: 每次操作后，都会清晰地打印出操作结果、更新后的资源向量和矩阵，以及新的安全序列（如果适用）。

### 示例输出

运行 `main.py` 后，您将看到类似以下的输出（具体数值取决于 `main.py` 中定义的初始数据和请求）：

```
====================================================================================================
初始系统状态：

可利用资源向量: [3, 3, 2]

最大需求矩阵:
     A   B   C
P0:  7   5   3
P1:  3   2   2
P2:  9   0   2
P3:  2   2   2
P4:  4   3   3

分配矩阵:
     A   B   C
P0:  0   1   0
P1:  2   0   0
P2:  3   0   2
P3:  2   1   1
P4:  0   0   2

需求矩阵:
     A   B   C
P0:  7   4   3
P1:  1   2   2
P2:  6   0   0
P3:  0   1   1
P4:  4   3   1

====================================================================================================
安全检测结果：系统安全，安全序列为：P1 → P3 → P0 → P2 → P4

====================================================================================================
处理请求: 进程 P1 请求资源 [1, 0, 2]
结果：成功：请求被允许

新的可利用资源向量: [2, 3, 0]

新的最大需求矩阵:
     A   B   C
P0:  7   5   3
P1:  3   2   2
P2:  9   0   2
P3:  2   2   2
P4:  4   3   3

新的分配矩阵:
     A   B   C
P0:  0   1   0
P1:  3   0   2
P2:  3   0   2
P3:  2   1   1
P4:  0   0   2

新的需求矩阵:
     A   B   C
P0:  7   4   3
P1:  0   2   0
P2:  6   0   0
P3:  0   1   1
P4:  4   3   1
新的安全序列：P1 → P3 → P0 → P2 → P4
```